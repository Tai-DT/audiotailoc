# ğŸ”„ SÆ¡ Äá»“ Luá»“ng Dá»¯ Liá»‡u - Audio TÃ i Lá»™c

## ğŸ›’ Luá»“ng Mua HÃ ng (E-Commerce Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LUá»’NG MUA HÃ€NG                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KhÃ¡ch   â”‚â”€â”€â”€â–¶â”‚   Xem SP    â”‚â”€â”€â”€â–¶â”‚ ThÃªm vÃ o â”‚â”€â”€â”€â–¶â”‚  Thanh toÃ¡n â”‚â”€â”€â”€â–¶â”‚  ÄÆ¡n   â”‚
â”‚ hÃ ng    â”‚    â”‚   Browse    â”‚    â”‚ giá» hÃ ng â”‚    â”‚  Checkout   â”‚    â”‚  hÃ ng  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                  â”‚                â”‚                â”‚
                     â–¼                  â–¼                â–¼                â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ GET /api/v1 â”‚    â”‚ POST/PUT â”‚    â”‚ POST /api/v1â”‚    â”‚ orders â”‚
              â”‚ /products   â”‚    â”‚ /cart    â”‚    â”‚ /checkout   â”‚    â”‚ table  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                  â”‚                â”‚
                     â–¼                  â–¼                â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  products   â”‚    â”‚  carts   â”‚    â”‚  PayOS/     â”‚
              â”‚   table     â”‚    â”‚cart_itemsâ”‚    â”‚  VNPay      â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Chi tiáº¿t cÃ¡c bÆ°á»›c:

1. ğŸ“± KhÃ¡ch xem sáº£n pháº©m
   â””â”€â–¶ Frontend: GET /api/v1/products
   â””â”€â–¶ Backend: CatalogModule.findAll()
   â””â”€â–¶ Database: products table

2. ğŸ›’ ThÃªm vÃ o giá»
   â””â”€â–¶ Frontend: POST /api/v1/cart/items
   â””â”€â–¶ Backend: CartModule.addItem()
   â””â”€â–¶ Database: carts, cart_items tables

3. ğŸ’³ Thanh toÃ¡n
   â””â”€â–¶ Frontend: POST /api/v1/checkout
   â””â”€â–¶ Backend: CheckoutModule.process()
   â””â”€â–¶ PayOS/VNPay: Create payment link
   â””â”€â–¶ Redirect to payment gateway

4. âœ… HoÃ n thÃ nh Ä‘Æ¡n
   â””â”€â–¶ Webhook: PayOS callback
   â””â”€â–¶ Backend: PaymentsModule.confirmPayment()
   â””â”€â–¶ Database: orders, order_items, payments
   â””â”€â–¶ Email notification sent
```

---

## ğŸ”§ Luá»“ng Äáº·t Dá»‹ch Vá»¥ (Service Booking Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LUá»’NG Äáº¶T Dá»ŠCH Vá»¤                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ KhÃ¡ch   â”‚â”€â”€â”€â–¶â”‚ Xem dá»‹ch vá»¥ â”‚â”€â”€â”€â–¶â”‚ Chá»n DV  â”‚â”€â”€â”€â–¶â”‚ Chá»n ngÃ y   â”‚â”€â”€â”€â–¶â”‚ XÃ¡c    â”‚
â”‚ hÃ ng    â”‚    â”‚  Services   â”‚    â”‚ + Items  â”‚    â”‚ + thá»i gian â”‚    â”‚ nháº­n   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚                  â”‚                â”‚                â”‚
                     â–¼                  â–¼                â–¼                â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ GET /api/v1 â”‚    â”‚ service_ â”‚    â”‚technician_  â”‚    â”‚service_â”‚
              â”‚ /services   â”‚    â”‚ items    â”‚    â”‚schedules    â”‚    â”‚bookingsâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tráº¡ng thÃ¡i Booking:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING  â”‚â”€â”€â”€â–¶â”‚CONFIRMED â”‚â”€â”€â”€â–¶â”‚IN_PROGRESSâ”‚â”€â”€â–¶â”‚COMPLETED â”‚    â”‚CANCELLED â”‚
â”‚ Chá» xÃ¡c  â”‚    â”‚ ÄÃ£ xÃ¡c   â”‚    â”‚ Äang thá»±câ”‚    â”‚ HoÃ n     â”‚    â”‚  ÄÃ£ há»§y  â”‚
â”‚ nháº­n     â”‚    â”‚ nháº­n     â”‚    â”‚ hiá»‡n     â”‚    â”‚ thÃ nh    â”‚    â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Luá»“ng XÃ¡c Thá»±c (Authentication Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           LUá»’NG XÃC THá»°C JWT                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ÄÄ‚NG NHáº¬P:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     POST /auth/login      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ Client â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Backend â”‚                          â”‚
â”‚   â”‚        â”‚  { email, password }      â”‚         â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                          â”‚
â”‚       â–²                                     â”‚                                â”‚
â”‚       â”‚                                     â–¼                                â”‚
â”‚       â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       â”‚                              â”‚ Verify user  â”‚                        â”‚
â”‚       â”‚                              â”‚ + password   â”‚                        â”‚
â”‚       â”‚                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚       â”‚                                     â”‚                                â”‚
â”‚       â”‚    { accessToken, refreshToken }    â”‚                                â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

TRUY Cáº¬P PROTECTED ROUTE:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”   GET /api/v1/orders      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚   â”‚ Client â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Backend â”‚                          â”‚
â”‚   â”‚        â”‚ Authorization: Bearer xxx â”‚         â”‚                          â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                          â”‚
â”‚       â–²                                     â”‚                                â”‚
â”‚       â”‚                                     â–¼                                â”‚
â”‚       â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚       â”‚                              â”‚ JwtAuthGuard â”‚                        â”‚
â”‚       â”‚                              â”‚ verify token â”‚                        â”‚
â”‚       â”‚                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚       â”‚                                     â”‚                                â”‚
â”‚       â”‚         { orders data }             â”‚                                â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Token cáº¥u trÃºc:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Access Token (15 phÃºt)                 â”‚
â”‚ â”œâ”€â”€ userId: string                     â”‚
â”‚ â”œâ”€â”€ email: string                      â”‚
â”‚ â”œâ”€â”€ role: USER | ADMIN                 â”‚
â”‚ â””â”€â”€ exp: timestamp                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Refresh Token (7 ngÃ y)                 â”‚
â”‚ â”œâ”€â”€ userId: string                     â”‚
â”‚ â””â”€â”€ exp: timestamp                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Luá»“ng Dashboard Admin

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DASHBOARD ADMIN FLOW                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚   Admin Login    â”‚
                          â”‚  /login (JWT)    â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                    DASHBOARD                         â”‚
         â”‚                    /dashboard                        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼            â–¼             â–¼             â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Products â”‚  â”‚ Orders  â”‚  â”‚Bookings â”‚  â”‚ Content â”‚  â”‚Analyticsâ”‚
   â”‚ CRUD    â”‚  â”‚ Manage  â”‚  â”‚ Manage  â”‚  â”‚ Manage  â”‚  â”‚ Reports â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚            â”‚             â”‚             â”‚            â”‚
        â–¼            â–¼             â–¼             â–¼            â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚products â”‚  â”‚ orders  â”‚  â”‚service_ â”‚  â”‚banners  â”‚  â”‚analyticsâ”‚
   â”‚category â”‚  â”‚order_   â”‚  â”‚bookings â”‚  â”‚blog     â”‚  â”‚Module  â”‚
   â”‚inventoryâ”‚  â”‚ items   â”‚  â”‚         â”‚  â”‚projects â”‚  â”‚         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

API Endpoints cho Dashboard:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Resource     â”‚ Endpoints                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Products     â”‚ GET/POST/PUT/DELETE /api/v1/admin/products         â”‚
â”‚ Orders       â”‚ GET/PUT /api/v1/admin/orders                       â”‚
â”‚ Bookings     â”‚ GET/PUT /api/v1/admin/bookings                     â”‚
â”‚ Banners      â”‚ GET/POST/PUT/DELETE /api/v1/site/banners           â”‚
â”‚ Users        â”‚ GET/PUT /api/v1/admin/users                        â”‚
â”‚ Analytics    â”‚ GET /api/v1/analytics/*                             â”‚
â”‚ Reports      â”‚ GET /api/v1/reports/*                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¬ Luá»“ng Chat Realtime

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CHAT REALTIME FLOW                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     KhÃ¡ch hÃ ng (Frontend)                        Admin (Dashboard)
           â”‚                                            â”‚
           â”‚   Socket.io connect                        â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
           â”‚         ws://localhost:3010                â”‚
           â”‚                                            â”‚
           â”‚                                            â”‚
           â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚         connected, conversationId          â”‚
           â”‚                                            â”‚
           â”‚                                            â”‚
           â”‚   emit('message', {content: "Xin chÃ o"})   â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
           â”‚                                            â”‚
           â”‚         Save to messages table             â”‚
           â”‚                                            â”‚
           â”‚   on('message', {content: "ChÃ o báº¡n"})     â”‚
           â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                                            â”‚


Database Schema:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    conversations    â”‚         â”‚      messages       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ conversationId      â”‚
â”‚ userId              â”‚         â”‚ id                  â”‚
â”‚ guestId             â”‚         â”‚ senderId            â”‚
â”‚ status (OPEN/CLOSED)â”‚         â”‚ senderType          â”‚
â”‚ guestName           â”‚         â”‚ content             â”‚
â”‚ guestPhone          â”‚         â”‚ createdAt           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“§ Luá»“ng Notifications

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        NOTIFICATION FLOW                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Trigger Events:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event                  â”‚ Notification Type    â”‚ Recipients         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ New Order              â”‚ order_created        â”‚ Admin, Customer    â”‚
â”‚ Order Status Changed   â”‚ order_status         â”‚ Customer           â”‚
â”‚ Payment Confirmed      â”‚ payment_confirmed    â”‚ Customer, Admin    â”‚
â”‚ New Booking            â”‚ booking_created      â”‚ Admin, Technician  â”‚
â”‚ Booking Assigned       â”‚ booking_assigned     â”‚ Customer           â”‚
â”‚ Low Stock Alert        â”‚ inventory_alert      â”‚ Admin              â”‚
â”‚ New Support Ticket     â”‚ support_ticket       â”‚ Admin              â”‚
â”‚ New Review             â”‚ review_created       â”‚ Admin              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Channel Flow:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event  â”‚â”€â”€â”€â–¶â”‚Notification â”‚â”€â”€â”€â–¶â”‚   Channel    â”‚â”€â”€â”€â–¶â”‚  Delivery  â”‚
â”‚ Trigger â”‚    â”‚  Service    â”‚    â”‚   Router     â”‚    â”‚  Handlers  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â–¼                   â–¼                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Database â”‚        â”‚  Email   â”‚        â”‚ Socket.ioâ”‚
              â”‚  Store   â”‚        â”‚  SMTP    â”‚        â”‚ Realtime â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Cáº¥u TrÃºc API

```
/api/v1
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ POST /login          # ÄÄƒng nháº­p
â”‚   â”œâ”€â”€ POST /register       # ÄÄƒng kÃ½
â”‚   â”œâ”€â”€ POST /refresh        # Refresh token
â”‚   â””â”€â”€ POST /logout         # ÄÄƒng xuáº¥t
â”‚
â”œâ”€â”€ /users
â”‚   â”œâ”€â”€ GET /me              # ThÃ´ng tin user hiá»‡n táº¡i
â”‚   â”œâ”€â”€ PUT /me              # Cáº­p nháº­t profile
â”‚   â””â”€â”€ PUT /me/password     # Äá»•i máº­t kháº©u
â”‚
â”œâ”€â”€ /products
â”‚   â”œâ”€â”€ GET /                # Danh sÃ¡ch sáº£n pháº©m
â”‚   â”œâ”€â”€ GET /:id             # Chi tiáº¿t sáº£n pháº©m
â”‚   â”œâ”€â”€ GET /slug/:slug      # TÃ¬m theo slug
â”‚   â””â”€â”€ GET /featured        # Sáº£n pháº©m ná»•i báº­t
â”‚
â”œâ”€â”€ /categories
â”‚   â”œâ”€â”€ GET /                # Danh sÃ¡ch danh má»¥c
â”‚   â””â”€â”€ GET /:slug           # Chi tiáº¿t danh má»¥c
â”‚
â”œâ”€â”€ /cart
â”‚   â”œâ”€â”€ GET /                # Giá» hÃ ng hiá»‡n táº¡i
â”‚   â”œâ”€â”€ POST /items          # ThÃªm item
â”‚   â”œâ”€â”€ PUT /items/:id       # Cáº­p nháº­t sá»‘ lÆ°á»£ng
â”‚   â””â”€â”€ DELETE /items/:id    # XÃ³a item
â”‚
â”œâ”€â”€ /checkout
â”‚   â”œâ”€â”€ POST /               # Táº¡o Ä‘Æ¡n hÃ ng
â”‚   â””â”€â”€ POST /apply-promo    # Ãp dá»¥ng mÃ£ giáº£m giÃ¡
â”‚
â”œâ”€â”€ /orders
â”‚   â”œâ”€â”€ GET /                # Lá»‹ch sá»­ Ä‘Æ¡n hÃ ng
â”‚   â””â”€â”€ GET /:id             # Chi tiáº¿t Ä‘Æ¡n hÃ ng
â”‚
â”œâ”€â”€ /services
â”‚   â”œâ”€â”€ GET /                # Danh sÃ¡ch dá»‹ch vá»¥  
â”‚   â””â”€â”€ GET /:slug           # Chi tiáº¿t dá»‹ch vá»¥
â”‚
â”œâ”€â”€ /bookings
â”‚   â”œâ”€â”€ GET /                # Lá»‹ch sá»­ booking
â”‚   â”œâ”€â”€ POST /               # Táº¡o booking má»›i
â”‚   â””â”€â”€ PUT /:id/cancel      # Há»§y booking
â”‚
â”œâ”€â”€ /payments
â”‚   â”œâ”€â”€ POST /payos/create   # Táº¡o link thanh toÃ¡n PayOS
â”‚   â””â”€â”€ POST /payos/webhook  # Webhook callback
â”‚
â”œâ”€â”€ /site
â”‚   â”œâ”€â”€ GET /banners         # Banners
â”‚   â”œâ”€â”€ GET /testimonials    # Testimonials
â”‚   â”œâ”€â”€ GET /faqs            # FAQs
â”‚   â””â”€â”€ GET /stats           # Site statistics
â”‚
â”œâ”€â”€ /blog
â”‚   â”œâ”€â”€ GET /                # BÃ i viáº¿t
â”‚   â””â”€â”€ GET /:slug           # Chi tiáº¿t bÃ i viáº¿t
â”‚
â”œâ”€â”€ /projects
â”‚   â”œâ”€â”€ GET /                # Dá»± Ã¡n
â”‚   â””â”€â”€ GET /:slug           # Chi tiáº¿t dá»± Ã¡n
â”‚
â”œâ”€â”€ /reviews
â”‚   â”œâ”€â”€ GET /product/:id     # Reviews sáº£n pháº©m
â”‚   â””â”€â”€ POST /               # Táº¡o review
â”‚
â”œâ”€â”€ /search
â”‚   â””â”€â”€ GET /                # TÃ¬m kiáº¿m
â”‚
â”œâ”€â”€ /notifications
â”‚   â”œâ”€â”€ GET /                # Danh sÃ¡ch thÃ´ng bÃ¡o
â”‚   â””â”€â”€ PUT /:id/read        # ÄÃ¡nh dáº¥u Ä‘Ã£ Ä‘á»c
â”‚
â””â”€â”€ /admin (Protected - Admin only)
    â”œâ”€â”€ /products            # CRUD sáº£n pháº©m
    â”œâ”€â”€ /categories          # CRUD danh má»¥c
    â”œâ”€â”€ /orders              # Quáº£n lÃ½ Ä‘Æ¡n hÃ ng
    â”œâ”€â”€ /users               # Quáº£n lÃ½ users
    â”œâ”€â”€ /bookings            # Quáº£n lÃ½ bookings
    â”œâ”€â”€ /analytics           # Thá»‘ng kÃª
    â””â”€â”€ /reports             # BÃ¡o cÃ¡o
```

---

*TÃ i liá»‡u Flow Diagrams - Audio TÃ i Lá»™c*
*Cáº­p nháº­t: 2025-12-27*
