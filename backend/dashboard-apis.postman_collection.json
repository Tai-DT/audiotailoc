{
  "info": {
    "name": "Audio Tài Lộc - Dashboard APIs",
    "description": "Complete collection of dashboard and analytics APIs for Audio Tài Lộc admin panel",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url_production",
      "value": "https://backend-audiotailoc-f6b75c2cc1ea.herokuapp.com/api/v1",
      "type": "string"
    },
    {
      "key": "base_url_local",
      "value": "http://localhost:3010/api/v1",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "YOUR_JWT_TOKEN_HERE",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Admin Dashboard",
      "item": [
        {
          "name": "Get Dashboard Overview",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/dashboard?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "dashboard"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01",
                  "description": "Start date (ISO format)"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31",
                  "description": "End date (ISO format)"
                }
              ]
            },
            "description": "Get admin dashboard overview with key statistics"
          },
          "response": []
        },
        {
          "name": "Get User Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/stats/users?days=30",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "stats", "users"],
              "query": [
                {
                  "key": "days",
                  "value": "30",
                  "description": "Number of days to analyze"
                }
              ]
            },
            "description": "Get detailed user statistics and metrics"
          },
          "response": []
        },
        {
          "name": "Get Order Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/stats/orders?days=30",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "stats", "orders"],
              "query": [
                {
                  "key": "days",
                  "value": "30",
                  "description": "Number of days to analyze"
                }
              ]
            },
            "description": "Get detailed order statistics and revenue data"
          },
          "response": []
        },
        {
          "name": "Get Product Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/stats/products",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "stats", "products"]
            },
            "description": "Get detailed product statistics and inventory"
          },
          "response": []
        },
        {
          "name": "Perform Bulk Action",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"action\": \"activate\",\n  \"ids\": [\"id1\", \"id2\", \"id3\"],\n  \"type\": \"products\"\n}"
            },
            "url": {
              "raw": "{{base_url_production}}/admin/bulk-action",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "bulk-action"]
            },
            "description": "Perform bulk actions on users, products, or orders"
          },
          "response": []
        },
        {
          "name": "Get System Status",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/system/status",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "system", "status"]
            },
            "description": "Get system status and health information"
          },
          "response": []
        },
        {
          "name": "Get Activity Logs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/admin/logs/activity?type=all&limit=100",
              "host": ["{{base_url_production}}"],
              "path": ["admin", "logs", "activity"],
              "query": [
                {
                  "key": "type",
                  "value": "all",
                  "description": "Log type filter"
                },
                {
                  "key": "limit",
                  "value": "100",
                  "description": "Number of logs to retrieve"
                }
              ]
            },
            "description": "Get activity logs and audit trail"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Analytics",
      "item": [
        {
          "name": "Get Analytics Dashboard",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/dashboard?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "dashboard"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                },
                {
                  "key": "productIds[]",
                  "value": "product1",
                  "disabled": true
                },
                {
                  "key": "categoryIds[]",
                  "value": "category1",
                  "disabled": true
                },
                {
                  "key": "customerSegment",
                  "value": "vip",
                  "disabled": true
                },
                {
                  "key": "region",
                  "value": "north",
                  "disabled": true
                },
                {
                  "key": "channel",
                  "value": "online",
                  "disabled": true
                }
              ]
            },
            "description": "Get complete analytics dashboard data with filters"
          },
          "response": []
        },
        {
          "name": "Get Sales Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/sales?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "sales"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            },
            "description": "Get detailed sales metrics and revenue analytics"
          },
          "response": []
        },
        {
          "name": "Get Customer Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/customers?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "customers"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            },
            "description": "Get customer behavior and segmentation analytics"
          },
          "response": []
        },
        {
          "name": "Get Inventory Analytics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/inventory?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "inventory"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            },
            "description": "Get inventory tracking and stock analytics"
          },
          "response": []
        },
        {
          "name": "Get Business KPIs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/kpis?startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "kpis"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            },
            "description": "Get business Key Performance Indicators"
          },
          "response": []
        },
        {
          "name": "Export Analytics Data",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/export/sales?format=csv&startDate=2025-01-01&endDate=2025-01-31",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "export", "sales"],
              "query": [
                {
                  "key": "format",
                  "value": "csv",
                  "description": "Export format: csv, excel, pdf"
                },
                {
                  "key": "startDate",
                  "value": "2025-01-01"
                },
                {
                  "key": "endDate",
                  "value": "2025-01-31"
                }
              ]
            },
            "description": "Export analytics data in various formats"
          },
          "response": []
        },
        {
          "name": "Get Real-time Sales",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/realtime/sales",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "realtime", "sales"]
            },
            "description": "Get real-time sales data for today"
          },
          "response": []
        },
        {
          "name": "Get Real-time Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url_production}}/analytics/realtime/orders",
              "host": ["{{base_url_production}}"],
              "path": ["analytics", "realtime", "orders"]
            },
            "description": "Get real-time order tracking data"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Health & Monitoring",
      "item": [
        {
          "name": "Basic Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health",
              "host": ["{{base_url_production}}"],
              "path": ["health"]
            },
            "description": "Basic health check (no authentication required)"
          },
          "response": []
        },
        {
          "name": "Detailed Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/detailed",
              "host": ["{{base_url_production}}"],
              "path": ["health", "detailed"]
            },
            "description": "Detailed health check with system information"
          },
          "response": []
        },
        {
          "name": "Database Health",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/database",
              "host": ["{{base_url_production}}"],
              "path": ["health", "database"]
            },
            "description": "Check database connectivity"
          },
          "response": []
        },
        {
          "name": "Performance Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/performance",
              "host": ["{{base_url_production}}"],
              "path": ["health", "performance"]
            },
            "description": "Get system performance metrics"
          },
          "response": []
        },
        {
          "name": "System Information",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/system",
              "host": ["{{base_url_production}}"],
              "path": ["health", "system"]
            },
            "description": "Get system information (CPU, memory, disk)"
          },
          "response": []
        },
        {
          "name": "Memory Usage",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/memory",
              "host": ["{{base_url_production}}"],
              "path": ["health", "memory"]
            },
            "description": "Get memory usage information"
          },
          "response": []
        },
        {
          "name": "Uptime Information",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/uptime",
              "host": ["{{base_url_production}}"],
              "path": ["health", "uptime"]
            },
            "description": "Get system uptime information"
          },
          "response": []
        },
        {
          "name": "Application Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/metrics",
              "host": ["{{base_url_production}}"],
              "path": ["health", "metrics"]
            },
            "description": "Get application metrics"
          },
          "response": []
        },
        {
          "name": "Active Alerts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url_production}}/health/alerts",
              "host": ["{{base_url_production}}"],
              "path": ["health", "alerts"]
            },
            "description": "Get active system alerts"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Pre-request script to validate JWT token",
          "if (pm.variables.get('jwt_token') === 'YOUR_JWT_TOKEN_HERE') {",
          "    console.warn('Please set a valid JWT token in the collection variables');",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Common test script for all requests",
          "pm.test('Response time is less than 5000ms', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "pm.test('Response should be JSON', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "pm.test('Response should have success field', function () {",
          "    const jsonData = pm.response.json();",
          "    pm.expect(jsonData).to.have.property('success');",
          "});",
          "",
          "// Log response for debugging",
          "if (pm.response.code >= 400) {",
          "    console.error('Request failed:', pm.response.json());",
          "}"
        ]
      }
    }
  ]
}
